<!doctype html>
<html ng-app="partyApp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Party!</title>

    <link href="vendors/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
	  
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/mopidy/mopidy.min.js"></script>
    <script type="text/javascript" src="vendors/angular.min.js"></script>
    <script type="text/javascript" src="controller.js"></script>
  
	</head>

<body ng-controller="MainController">
	<div class="container-fluid" style="margin-top:20px">
		<div class="row">
			<div class="col-xs-6">	
				<ul class="nav nav-pills nav-justified">
					<li class="active"><a data-toggle="pill" href="#recherche">Recherche</a></li>
					<li><a data-toggle="pill" href="#playlist">Playlist</a></li>
				</ul>
			</div>
		</div>
		
		<div class="tab-content">
			<div id="recherche" class="tab-pane fade in active">
				<div class="row">
					<div class="col-xs-12">
						<form ng-submit="search()">
							<input type="text" role="search" class="form-control" placeholder="Recherchez..." ng-model="searchField" ng-disabled="!ready">
						</form>
						<div ng-show="loading" class="container-fluid">
							<p><span class="glyphicon glyphicon-hourglass"></span> Chargement...</p>
						</div>
					</div>
				</div>
				<ul class="list-group" style="margin-top:20px">
					<li class="list-group-item" ng-repeat="track in tracks">
						<button type="button" class="btn btn-xs btn-success add-button" ng-click="addTrack(track)" ng-disabled="track.disabled">
							<span class="glyphicon glyphicon-play" ng-if="!track.disabled"></span>
							<span class="glyphicon glyphicon-ok"   ng-if="track.disabled"></span>
						</button>
						{{ track.name }} <small>{{ printDuration(track) }}</small><br>
						<small>
							{{Â track.album.name }}
							<span ng-if="track.artists">by</span>
							<span ng-repeat="artist in track.artists">
								<span ng-if="!$first"> & </span>
								{{ artist.name }}
							</span>
						</small>
					</li>
				</ul>
			</div>
			<div id="playlist" class="tab-pane fade">
				<div class="well well-sm">
					<b>En lecture</b> :
					{{ currentState.track.name }} <small>{{ printDuration(currentState.track) }}</small>
				</div>
			</div>
		</div>
		
		
	</div>

      <div class="alert" role="alert" ng-show="message.length" ng-class="{'alert-success' : (message[0] == 'success'), 'alert-danger' : (message[0] == 'error')}">
        {{ message[1] }}
      </div>

      
    </div>
  </body>
</html>